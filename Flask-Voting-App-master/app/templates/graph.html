{% extends "base.html" %}
{% block styles %}
{{ super() }}

<script src="https://cdn.jsdelivr.net/momentjs/2.9.0/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.1/Chart.bundle.min.js"></script>

{% endblock %}

{% block content %}

<h1 class="subtitle has-text-success"> Presidential Election Results</h1>
<canvas id="myChart" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
    </script>
<br>
<br>
<h1 class="subtitle has-text-success"> Vice-Presidential Election Results</h1>

<canvas id="myChart1" max-width="100" max-height="60"></canvas>
<script>

var ctx = document.getElementById('myChart1').getContext('2d');
var myChart1 = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: {{ labels1 | tojson }},
        datasets: [{
            label: 'No of Votes',
            data: {{ data1 | tojson }},
            backgroundColor: [
                'rgba(85,107,47,0.2)',
                'rgba(124,252,0, 0.2)',
                'rgba(0,128,0, 0.2)',
                'rgba(144,238,144, 0.2)',
                'rgba(0,255,127, 0.2)',
                'rgba(240,230,140, 0.2)'
            ],
            borderColor: [
                'rgba(255, 255, 255, 1)',
                'rgba(255, 255, 255, 1)',
                'rgba(255, 255, 255, 1)',
                'rgba(255, 255, 255, 1)',
                'rgba(255, 255, 255, 1)',
                'rgba(255, 255, 255, 1)',
            ],
            borderWidth: 2
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Branch Captain Election Results</h1>
<canvas id="myChart2" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart2').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels2 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data2 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Secretary Election Results</h1>
<canvas id="myChart3" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart3').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels3 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data3 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Treasurer Election Results</h1>
<canvas id="myChart4" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart4').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels4 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data4 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Cultural Secretary Election Results</h1>
<canvas id="myChart5" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart5').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels5 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data5 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Sports Secretary Election Results</h1>
<canvas id="myChart6" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart6').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels6 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data6 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Technical Secretary Election Results</h1>
<canvas id="myChart7" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart7').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels7 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data7 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Creative Head Election Results</h1>
<canvas id="myChart8" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart8').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels8 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data8 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Social Media Coordinator Election Results</h1>
<canvas id="myChart9" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart9').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels9 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data9 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Photography Coordinator Election Results</h1>
<canvas id="myChart10" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart10').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels10 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data10 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Graphic Designer Election Results</h1>
<canvas id="myChart11" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart11').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels11 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data11 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
<br>
<br>
<h1 class="subtitle has-text-success"> Website Manager Election Results</h1>
<canvas id="myChart12" max-width="100" max-height="60"></canvas>
    <script>

    var ctx = document.getElementById('myChart12').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels12 | tojson }},
            datasets: [{
                label: ' No of Votes',
                data: {{ data12 | tojson }},
                backgroundColor: [
                    'rgba(85,107,47,0.2)',
                    'rgba(124,252,0, 0.2)',
                    'rgba(0,128,0, 0.2)',
                    'rgba(144,238,144, 0.2)',
                    'rgba(0,255,127, 0.2)',
                    'rgba(240,230,140, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                ],
                borderWidth: 2
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

setInterval(function(callback){
    const Http = new XMLHttpRequest({mozSystem: true});
    const url='http://localhost:5000/vote/count';
    Http.open("GET", url);
    Http.setRequestHeader("Access-Control-Allow-Origin","*");
    Http.setRequestHeader("Access-Control-Allow-Credentials", "true");
    Http.setRequestHeader("Access-Control-Allow-Methods", "GET");
    Http.setRequestHeader("Access-Control-Allow-Headers", "Content-Type");

    Http.send();
    Http.onreadystatechange = function(){
        if(Http.readyState == 4){
            var result = JSON.parse(Http.responseText);
            // var label = Object.keys(labels).map(function (key) { return labels[key]; });
        
            var ctx = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: result.labels,
                    datasets: [{
                        label: 'No of Votes',
                        data: result.data,
                        backgroundColor: [
                            'rgba(85,107,47,0.2)',
                            'rgba(124,252,0, 0.2)',
                            'rgba(0,128,0, 0.2)',
                            'rgba(144,238,144, 0.2)',
                            'rgba(0,255,127, 0.2)',
                            'rgba(240,230,140, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            var ctx = document.getElementById('myChart1').getContext('2d');
            var myChart1 = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: result.labels1,
                    datasets: [{
                        label: 'No of Votes',
                        data: result.data1,
                        backgroundColor: [
                            'rgba(85,107,47,0.2)',
                            'rgba(124,252,0, 0.2)',
                            'rgba(0,128,0, 0.2)',
                            'rgba(144,238,144, 0.2)',
                            'rgba(0,255,127, 0.2)',
                            'rgba(240,230,140, 0.2)'
                        ],
                        borderColor: [
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                            'rgba(255, 255, 255, 1)',
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
            myChart.update('none');
            myChart1.update('none');
        }
    }
  
}, 10000);


</script>
{% endblock %}

